<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title id="sys_page_title"><%= htmlWebpackPlugin.options.title %></title>
  <link id="sys_page_icon" rel="shortcut icon" type="image/x-icon" />
  <link rel="stylesheet" href="icon/iconfont.css?<%= htmlWebpackPlugin.options.timestamp %>" />
  <link rel="stylesheet" href="index.css?<%= htmlWebpackPlugin.options.timestamp %>" />
  <link href="https://cdn.bootcdn.net/ajax/libs/nprogress/0.2.0/nprogress.min.css" rel="stylesheet" />
  <script src="mapsweb/mapsweb.nocache.js"></script>
  <script src="js/geographiclib.js"></script>
  <script src="js/lzLogin.js"></script>
  <script src="layer/jquery-3.2.0.min.js"></script>
  <style>
    html,
    body,
    #root {
      height: 100%;
      margin: 0;
      box-sizing: border-box !important;
      overflow: hidden;
    }

    #map_container {
      width: 100%;
      height: 100%;
      position: absolute;
    }

    #modal-container {
      position: absolute;
      z-index: 10;
    }
  </style>
  <script>
    function onMapsReady() {
      maps = new vrplanner.Maps("map_container", "settings.json");
      vrplanner.Extension.GeographicLib = GeographicLib;
      vrplanner.Extension.GeographicLib.Geodesic.Geodesic.prototype.Area = function (
        points,
        polyline
      ) {
        var poly = this.Polygon(polyline),
          i;
        for (i = 0; i < points.length; ++i)
          poly.AddPoint(points[i].lat, points[i].lon);
        return poly.Compute(false, true);
      };
      maps.showCompass(vrplanner.Maps.COMPASS_NONE);
      maps.getGrid().setColor(new vrplanner.Color("555555"));
      addJs();
    }

    function addJs() {
      const dom = document.createElement("script");
      dom.src =
        "compress/index.js?<%= htmlWebpackPlugin.options.timestamp %>";
      document.body.appendChild(dom);
    }

    function showData({ value, type = 2 }) {
      layer.open({
        type,
        content: type === 1 ? value.nextElementSibling.innerHTML : value,
        area: [window.innerWidth + "px", window.innerHeight + "px"],
        shade: 0
      });
    }
  </script>
  <script src="mapsweb/ModelTool.js"></script>
</head>

<body>
  <div id="root" data-api-host="http://<%= htmlWebpackPlugin.options.host %>:1234/API"
    data-regeo-host="https://restapi.amap.com/v3/geocode/regeo" data-text-host="https://restapi.amap.com/v3/place/text"
    data-around-host="https://restapi.amap.com/v3/place/around">
    <div id="map_container">
      <div id="action_container"></div>
    </div>
    <div id="modal-container"></div>
  </div>
  <script src="layer/layer.js"></script>
  <!-- <script src="chart/Js/chart/echarts.js"></script> -->
  <script src="https://cdn.bootcdn.net/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>
  <script>
    NProgress.start();
  </script>
  <script src="https://cdn.bootcdn.net/ajax/libs/echarts/4.8.0/echarts.min.js"></script>
</body>

</html>