(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{KXoX:function(e,t,n){"use strict";var a,r=n("k1fw"),l=n("jrin");(function(e){e[e["view"]=1]="view",e[e["insert"]=2]="insert",e[e["edit"]=4]="edit",e[e["delete"]=8]="delete",e[e["export"]=32]="export",e[e["forbidden"]=16]="forbidden",e[e["import"]=64]="import"})(a||(a={}));var i=[{label:"view",value:a.view},{label:"insert",value:a.insert},{label:"edit",value:a.edit},{label:"delete",value:a.delete},{label:"forbidden",value:a.forbidden},{label:"export",value:a.export},{label:"import",value:a.import}],u=function(e,t){if(0===t.length)return[];if(1===t.length){var n=e.find((function(e){return e.key===t[0]}));return null===n||void 0===n?void 0:n.permission}var a=e.find((function(e){return e.key===t[0]}));if(a&&a.children){var r=a.children.find((function(e){return e.key===t[1]}));return null===r||void 0===r?void 0:r.permission}return[]},o=function(e,t){var n=u(e,t);return null!==n&&void 0!==n&&n.length?i.map((function(e){return null!==n&&void 0!==n&&n.find((function(t){return t.label===e.label&&t.value===e.value}))?Object(l["a"])({},e.label,!0):Object(l["a"])({},e.label,!1)})).reduce((function(e,t){return Object(r["a"])(Object(r["a"])({},e),t)})):{}};t["a"]=o},YPpp:function(e,t,n){"use strict";n.r(t);var a=n("0Owb"),r=(n("+L6B"),n("2/Rp")),l=(n("7Kak"),n("9yH6")),i=(n("miYZ"),n("tsqr")),u=(n("y8nQ"),n("Vl3Y")),o=n("tJVT"),c=n("q1tI"),d=n.n(c),s=n("9kvl"),f=n("Hx5s"),b=n("sy1d");function p(){return Object(b["a"])("/setting/spider",{method:"GET"})}function v(e){return Object(b["a"])("/setting/spider/update",{method:"POST",data:e})}var m=n("KXoX"),w={labelCol:{span:4},wrapperCol:{span:16}},O={wrapperCol:{offset:0,span:16}},j=function(e){var t=Object(s["useIntl"])(),n=t.formatMessage,b=u["a"].useForm(),j=Object(o["a"])(b,1),h=j[0],E=Object(c["useState"])({}),g=Object(o["a"])(E,2),y=g[0],k=g[1];Object(c["useEffect"])((function(){k(Object(m["a"])(e.user.currentUser.access,["setting","spiderswitch"]))}),[e.user]);var F=function(e){console.log("Success:",e),v(e).then((function(){return i["default"].success(n({id:"table-setting-finished"}))}),(function(){return i["default"].error(n({id:"table-setting-failure"}))}))},x=function(e){console.log("Failed:",e)};return Object(c["useEffect"])((function(){p().then(h.setFieldsValue,console.log)})),d.a.createElement(f["b"],null,d.a.createElement(u["a"],Object(a["a"])({},w,{layout:"vertical",name:"basic",form:h,onFinish:F,onFinishFailed:x}),d.a.createElement(u["a"].Item,{label:n({id:"table-news-spider"}),name:"news"},d.a.createElement(l["default"].Group,null,d.a.createElement(l["default"],{value:"0"},n({id:"word.close"})),d.a.createElement(l["default"],{value:"1"},n({id:"word.open"})))),d.a.createElement(u["a"].Item,{label:n({id:"table-covid-spider"}),name:"covid"},d.a.createElement(l["default"].Group,null,d.a.createElement(l["default"],{value:"0"},n({id:"word.close"})),d.a.createElement(l["default"],{value:"1"},n({id:"word.open"})))),d.a.createElement(u["a"].Item,O,d.a.createElement(r["a"],{type:"primary",htmlType:"submit",disabled:!y.edit},"Submit"))))};t["default"]=Object(s["connect"])((function(e){var t=e.user;return{user:t}}))(j)}}]);